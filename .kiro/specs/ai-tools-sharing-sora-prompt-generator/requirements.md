# Requirements Document

## Project Description (Input)

過去に使用したことのあるAIソフトやサービスなどの情報共有や現在はやっているSora2での動画生成する際のプロンプト自動作成アプリを開発したいです。使用者は滝澤さん（通称TKZ）と私（コボちゃん）の2人です。ちょっとしたことですが、便利には変わりないので、ワクワクするサービスにしたいです。MVPの早期開発をしたいです。限界を超えてください。

## Introduction

本アプリケーションは、TKZとコボちゃんの2名が使用する、AIツールの知見共有とSora2動画生成プロンプトの自動作成を実現するMVPです。過去に使用したAIソフトやサービスの情報を蓄積・共有し、その知見を活用してSora2での動画生成を効率化することで、日々のクリエイティブワークをよりワクワクする体験に変えます。

## Requirements

### Requirement 1: AIツール情報の登録・管理
**Objective:** ユーザー（TKZ・コボちゃん）として、過去に使用したAIツールやサービスの情報を登録・管理できるようにしたい。これにより、蓄積された知見を活用できるようにする。

#### Acceptance Criteria

1. WHEN ユーザーがAIツール情報登録画面を開いたとき THEN システムは、ツール名、カテゴリ、使用目的、使用感、評価、使用日時を入力できるフォームを表示すること
2. WHEN ユーザーが必須項目（ツール名、カテゴリ）を入力して登録ボタンを押したとき THEN システムは、入力内容を保存し、登録完了メッセージを表示すること
3. WHEN ユーザーがAIツール一覧画面を開いたとき THEN システムは、登録されているすべてのAIツール情報を一覧表示すること
4. WHERE AIツール一覧画面において、システムは各ツール情報に対して編集・削除ボタンを提供すること
5. WHEN ユーザーがツール情報の編集ボタンを押したとき THEN システムは、既存の情報が入力された編集フォームを表示すること
6. WHEN ユーザーが削除ボタンを押したとき THEN システムは、確認ダイアログを表示し、確認後に該当情報を削除すること

### Requirement 2: AIツール情報の検索・フィルタリング
**Objective:** ユーザー（TKZ・コボちゃん）として、登録されたAIツール情報を効率的に検索・絞り込みできるようにしたい。これにより、必要な情報に素早くアクセスできるようにする。

#### Acceptance Criteria

1. WHERE AIツール一覧画面において、システムは検索ボックスとカテゴリフィルタを提供すること
2. WHEN ユーザーが検索ボックスにキーワードを入力したとき THEN システムは、ツール名・使用目的・使用感に該当キーワードを含むツール情報のみを表示すること
3. WHEN ユーザーがカテゴリフィルタを選択したとき THEN システムは、選択されたカテゴリに属するツール情報のみを表示すること
4. WHEN ユーザーが検索ボックスとカテゴリフィルタを同時に使用したとき THEN システムは、両方の条件を満たすツール情報のみを表示すること
5. WHERE AIツール一覧画面において、システムは評価順・使用日時順のソート機能を提供すること

### Requirement 3: Sora2プロンプトの自動生成
**Objective:** ユーザー（TKZ・コボちゃん）として、動画生成の目的や要望を入力するだけで、Sora2に最適化されたプロンプトを自動生成できるようにしたい。これにより、プロンプト作成の手間を削減し、より高品質な動画生成を実現する。

#### Acceptance Criteria

1. WHEN ユーザーがプロンプト生成画面を開いたとき THEN システムは、動画の目的、シーン説明、スタイル、長さ、その他要望を入力できるフォームを表示すること
2. WHEN ユーザーが必須項目（動画の目的、シーン説明）を入力して生成ボタンを押したとき THEN システムは、入力内容に基づいてSora2用プロンプトを自動生成し、表示すること
3. WHERE プロンプト生成結果画面において、システムは生成されたプロンプトをコピーボタン付きで表示すること
4. WHEN ユーザーがコピーボタンを押したとき THEN システムは、生成されたプロンプトをクリップボードにコピーし、コピー完了メッセージを表示すること
5. WHERE プロンプト生成結果画面において、システムは再生成ボタンを提供すること
6. WHEN ユーザーが再生成ボタンを押したとき THEN システムは、同じ入力内容から異なるバリエーションのプロンプトを生成すること

### Requirement 4: プロンプト生成履歴の管理
**Objective:** ユーザー（TKZ・コボちゃん）として、過去に生成したプロンプトを履歴として保存・参照できるようにしたい。これにより、効果的だったプロンプトを再利用したり、改善のヒントを得られるようにする。

#### Acceptance Criteria

1. WHEN ユーザーが生成されたプロンプトを保存ボタンで保存したとき THEN システムは、プロンプト内容、入力パラメータ、生成日時を履歴として保存すること
2. WHEN ユーザーがプロンプト履歴画面を開いたとき THEN システムは、保存されたプロンプト履歴を生成日時の新しい順に一覧表示すること
3. WHERE プロンプト履歴一覧において、システムは各履歴に対して詳細表示・コピー・削除ボタンを提供すること
4. WHEN ユーザーが履歴の詳細表示ボタンを押したとき THEN システムは、プロンプト全文と入力パラメータを表示すること
5. WHEN ユーザーが履歴からプロンプトをコピーしたとき THEN システムは、該当プロンプトをクリップボードにコピーすること
6. WHERE プロンプト履歴画面において、システムはキーワード検索機能を提供すること

### Requirement 5: ユーザー認証とアクセス制御
**Objective:** システム管理者として、TKZとコボちゃんの2名のみがアクセスできるように制御したい。これにより、プライベートな情報共有空間を確保する。

**実装方式:** Google OAuth認証（NextAuth.js v5）を使用 ※当初はCredentials認証を予定していたが、セキュリティとユーザー体験向上のためGoogle OAuth認証に変更

#### Acceptance Criteria

1. WHEN 未認証ユーザーがアプリケーションにアクセスしたとき THEN システムは、ログイン画面を表示すること
2. WHERE ログイン画面において、システムはGoogleアカウントでログインするボタンを提供すること
3. WHEN ユーザーがGoogleログインボタンをクリックしたとき THEN システムは、Googleの認証画面にリダイレクトすること
4. WHEN ユーザーが有効なGoogleアカウント（TKZ または コボちゃんのアカウント）で認証したとき THEN システムは、ログインを許可し、メイン画面にリダイレクトすること
5. WHEN ユーザーが認証をキャンセルまたは失敗したとき THEN システムは、ログイン画面に戻り、適切なメッセージを表示すること
6. WHEN 認証済みユーザーがログアウトボタンを押したとき THEN システムは、セッションを終了し、ログイン画面にリダイレクトすること
7. WHILE ユーザーがログインしている間、システムは全機能へのアクセスを許可すること

### Requirement 6: データの共有と同期
**Objective:** ユーザー（TKZ・コボちゃん）として、お互いが登録したAIツール情報やプロンプト履歴を相互に参照できるようにしたい。これにより、2人の知見を共有・活用できるようにする。

#### Acceptance Criteria

1. WHEN いずれかのユーザーがAIツール情報を登録したとき THEN システムは、その情報を両ユーザーが閲覧できるように保存すること
2. WHERE AIツール一覧画面において、システムは各ツール情報に登録者名（TKZ または コボちゃん）を表示すること
3. WHEN いずれかのユーザーがプロンプト履歴を保存したとき THEN システムは、その履歴を両ユーザーが閲覧できるように保存すること
4. WHERE プロンプト履歴画面において、システムは各履歴に作成者名（TKZ または コボちゃん）を表示すること
5. IF ユーザーが自分以外の登録者が作成した情報を編集・削除しようとしたとき THEN システムは、確認ダイアログを表示すること

### Requirement 7: ユーザーインターフェースの使いやすさ
**Objective:** ユーザー（TKZ・コボちゃん）として、直感的で使いやすいインターフェースを提供してほしい。これにより、ストレスなくワクワクした体験を実現する。

#### Acceptance Criteria

1. WHERE アプリケーション全体において、システムはレスポンシブデザインを採用し、PCとモバイル端末の両方で快適に動作すること
2. WHEN ユーザーが各機能にアクセスしたとき THEN システムは、ナビゲーションメニューから簡単にアクセスできるようにすること
3. WHERE アプリケーション全体において、システムは統一されたデザインシステム（色、フォント、スペーシング）を使用すること
4. WHEN ユーザーが操作を実行したとき THEN システムは、適切なフィードバック（成功メッセージ、エラーメッセージ、ローディング表示）を提供すること
5. WHERE フォーム入力画面において、システムは入力例やヘルプテキストを提供すること
