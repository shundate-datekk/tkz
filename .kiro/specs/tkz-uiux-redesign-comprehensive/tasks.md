# Implementation Plan

## Phase 1: デザインシステム基盤の構築

- [ ] 1. デザインシステムの基盤となるCSS変数とTailwind設定を拡張する
- [ ] 1.1 グラデーション用のCSS変数を追加する
  - プライマリーグラデーション（青系）を定義する
  - アクセントグラデーション（オレンジ/黄色系）を定義する
  - ダークモード用のグラデーション変数を追加する
  - スペーシングシステム（4pxグリッド）のCSS変数を定義する
  - _Requirements: 4.1, 4.2, 4.5, 4.6_

- [ ] 1.2 Tailwind設定でデザイントークンを拡張する
  - グラデーション用のbackgroundImageユーティリティを追加する
  - スペーシングユーティリティ（xs, sm, md, lg, xl）を追加する
  - カラーパレットを拡張する（セカンダリー、アクセント）
  - 角丸（12px）をデフォルトに設定する
  - _Requirements: 4.3, 4.4, 4.6, 5.4_

- [x] 1.3 テーマ管理プロバイダーを実装する
  - テーマ状態（light/dark/system）を管理するContextを作成する
  - システム設定連動機能を実装する（prefers-color-scheme検知）
  - テーマ切り替え時のスムーズなトランジション（500ms）を実装する
  - localStorageでテーマ設定を永続化する
  - _Requirements: 9.1, 9.2, 9.3_

- [ ] 2. 新規依存関係のインストールと設定を行う
- [ ] 2.1 Motion（旧Framer Motion）をインストールして設定する
  - motion パッケージ（12.0.0+）をインストールする
  - AnimationProvider を作成し、reduced-motion対応を実装する
  - サンプルアニメーションコンポーネントで動作確認する
  - _Requirements: 8.1, 8.2, 8.3, 8.4, 8.5, 8.6_

- [ ] 2.2 SWRをインストールしてグローバル設定を行う
  - swr パッケージ（2.x）をインストールする
  - SWRConfig でグローバル設定を実装する（dedupingInterval, revalidateOnFocus）
  - 既存のServer Actionsと統合するfetcher関数を作成する
  - _Requirements: 14.3_

- [ ] 2.3 PWA対応のための@serwist/nextをインストールする
  - @serwist/next と @serwist/webpack-plugin をインストールする
  - next.config.tsでSerwist設定を追加する
  - Service Worker設定ファイル（app/sw.ts）を作成する
  - runtimeCaching戦略を定義する（NetworkFirst for API, CacheFirst for images）
  - _Requirements: 14.6_

## Phase 2: 基盤UIコンポーネントの刷新

- [ ] 3. Buttonコンポーネントをリデザインする
- [ ] 3.1 プライマリーボタンのグラデーションスタイルを実装する
  - グラデーション背景とシャドウを適用する
  - ホバー時の視覚効果を追加する
  - サイズバリエーション（S/M/L、最小44px）を実装する
  - アイコン＋テキスト併用のレイアウトを実装する
  - _Requirements: 5.1, 5.2, 5.3_

- [ ] 3.2 Motionでアニメーション効果を追加する
  - ボタンクリック時のリップル効果を実装する
  - タップ時のスケールアニメーション（95%）を追加する
  - ホバー時のスケールアニメーション（105%）を追加する
  - disabled状態ではアニメーションを無効化する
  - _Requirements: 8.2, 8.6_

- [ ] 4. Cardコンポーネントをリデザインする
- [ ] 4.1 統一された視覚スタイルを適用する
  - 12px角丸を適用する
  - 適切なシャドウとボーダーを設定する
  - カード内の情報階層を視覚的に整理する
  - _Requirements: 5.4_

- [ ] 4.2 ホバー時の浮き上がりアニメーションを実装する
  - Motionで transform + shadow アニメーションを追加する
  - スムーズなトランジション（200ms）を設定する
  - _Requirements: 5.5_

- [ ] 5. フォーム関連コンポーネントを改善する
- [ ] 5.1 Selectコンポーネントの視認性を向上させる
  - 背景白（bg-white）と2pxボーダーを設定する
  - 明確なフォーカスリング（青色、2px）を追加する
  - ホバー時のボーダー色変更を実装する
  - ダークモード対応のスタイルを追加する
  - _Requirements: 5.6_

- [ ] 5.2 Inputコンポーネントのスタイルを統一する
  - ラベルを常時表示する設計にする
  - プレースホルダーを薄いグレーに設定する
  - フォーカス時の視覚フィードバックを強化する
  - _Requirements: 5.7_

- [ ] 5.3 Textareaに文字数カウンター機能を追加する
  - リアルタイム文字数カウンターを実装する
  - 上限に近づいたら警告色で表示する
  - リサイズ可能な設定を保持する
  - 右下に配置するレイアウトを実装する
  - _Requirements: 5.8, 1.7_

- [ ] 5.4 DatePickerコンポーネントを追加する
  - カレンダーUIで直感的に選択できるDatePickerを実装する
  - 日付範囲選択機能を追加する（検索用）
  - _Requirements: 5.9_

## Phase 3: フォームエクスペリエンスの向上

- [ ] 6. リアルタイムバリデーション機能を実装する
- [ ] 6.1 フィールドレベルのバリデーションを強化する
  - onChange時の即時バリデーションを実装する
  - フィールド下に具体的なエラーメッセージを表示する
  - エラー状態のフィールドに赤枠を追加する
  - _Requirements: 1.1_

- [ ] 6.2 フォーム全体のバリデーションとエラー表示を実装する
  - 送信時の全体バリデーションを実行する
  - フィールドレベルエラーと全体サマリーの両方を表示する
  - エラー箇所へのスクロール機能を追加する
  - _Requirements: 1.2_

- [ ] 7. フォーム送信時のUX改善を実装する
- [ ] 7.1 ローディング状態の視覚化を実装する
  - 送信ボタンクリック時にSpinnerを表示する
  - ボタンを無効化して二重送信を防止する
  - フォーム全体にローディングオーバーレイを追加する
  - _Requirements: 1.3_

- [ ] 7.2 成功・失敗フィードバックを実装する
  - 成功時に成功トーストとチェックマークアニメーションを表示する
  - 3秒後に自動的にリスト画面に遷移する
  - 失敗時にエラートーストと具体的なエラーメッセージを表示する
  - 失敗時は入力内容を保持してボタンを再有効化する
  - _Requirements: 1.4, 1.5_

- [ ] 8. フォーム自動保存機能を実装する
- [ ] 8.1 入力内容のローカルストレージ自動保存を実装する
  - useDebounce hookで入力変更を検知する
  - localStorageに自動保存する（500ms デバウンス）
  - ページ再読み込み時に自動復元する
  - 送信成功時に保存データを削除する
  - _Requirements: 1.6_

- [ ] 8.2 未保存変更の警告機能を実装する
  - フォーム編集中の状態を検知するuseUnsavedChanges hookを作成する
  - ページ離脱時に「変更が保存されていません」警告を表示する
  - _Requirements: 3.3_

## Phase 4: 認証フローの改善

- [ ] 9. Google OAuthログインエラーハンドリングを強化する
- [ ] 9.1 分かりやすいエラーメッセージを実装する
  - ログイン失敗理由を具体的な日本語メッセージで表示する
  - 一般的なエラーケース（アクセス拒否、ネットワークエラー）に対応する
  - _Requirements: 2.1_

- [ ] 9.2 セッション管理機能を改善する
  - セッション期限切れ時の通知とリダイレクトを実装する
  - 現在のページURLを保持してログイン後に復帰する
  - _Requirements: 2.2, 2.3_

- [ ] 9.3 ログイン状態保持機能を追加する
  - 「ログイン状態を保持」チェックボックスをログインページに追加する
  - チェック時は30日間セッションを維持する設定にする
  - _Requirements: 2.4_

- [ ] 9.4 ログアウト確認ダイアログを実装する
  - ログアウトボタンクリック時に確認ダイアログを表示する
  - _Requirements: 2.5_

## Phase 5: データ操作の安全性向上

- [ ] 10. 削除操作の安全性を強化する
- [ ] 10.1 削除確認ダイアログを改善する
  - 削除対象のツール名とカテゴリーを含むプレビューを表示する
  - 確認ダイアログに具体的な情報を表示する
  - _Requirements: 3.1_

- [ ] 10.2 論理削除機能を実装する
  - deleted_atカラムを使用した論理削除を実装する
  - 30日間は復元可能な状態で保持する
  - 30日後の自動ハード削除機能を実装する（cron job）
  - _Requirements: 3.2_

- [ ] 11. 一括操作機能を実装する
- [ ] 11.1 複数選択UIを追加する
  - ツール一覧に複数選択チェックボックスを追加する
  - 選択状態の管理とUI表示を実装する
  - _Requirements: 3.4_

- [ ] 11.2 一括削除機能を実装する
  - 選択された件数を表示する一括削除ボタンを追加する
  - 確認ダイアログで選択内容をプレビュー表示する
  - すべて論理削除する処理を実装する
  - _Requirements: 3.5_

- [ ] 12. 元に戻す（Undo）機能を実装する
- [ ] 12.1 操作後のUndoボタンを実装する
  - データ削除・編集操作完了後に「元に戻す」ボタンを10秒間表示する
  - Undoクリック時に操作を取り消す処理を実装する
  - Toastコンポーネントに統合する
  - _Requirements: 3.6_

## Phase 6: レスポンシブデザイン完全対応

- [ ] 13. ナビゲーションをレスポンシブ対応する
- [x] 13.1 デスクトップナビゲーションを実装する
  - サイドバー固定ナビゲーションでアイコン＋ラベルを表示する
  - 現在ページのハイライト表示を実装する
  - _Requirements: 7.1_

- [x] 13.2 モバイルナビゲーションを実装する
  - ボトムナビゲーションバーを作成する
  - 主要4機能（ホーム、ツール一覧、プロンプト生成、履歴）にアクセスできるようにする
  - 現在ページのハイライト表示を実装する
  - _Requirements: 7.2, 6.4_

- [ ] 13.3 ハンバーガーメニューを改善する
  - 既存のSheetコンポーネントを活用する
  - タッチフレンドリーなサイズ（最小44px）を保つ
  - スワイプジェスチャーでメニューを開閉できるようにする
  - _Requirements: 6.1, 6.2_

- [ ] 14. レイアウトをブレークポイントごとに最適化する
- [ ] 14.1 モバイルレイアウト（320px〜767px）を実装する
  - 1カラムレイアウトで表示する
  - タッチフレンドリーなボタンサイズ（最小44px）を保つ
  - ボトムシートUIでモーダルやメニューを表示する
  - _Requirements: 6.1, 6.3_

- [ ] 14.2 タブレットレイアウト（768px〜1023px）を実装する
  - 2カラムレイアウト（サイドパネル＋メインコンテンツ）で表示する
  - タッチ操作とキーボード操作の両方に対応する
  - _Requirements: 6.5, 6.6_

- [ ] 14.3 デスクトップレイアウト（1024px〜）を実装する
  - 3カラムレイアウト（サイドバー＋メイン＋詳細パネル）で表示する
  - マウスホバー時のツールチップや視覚効果を提供する
  - _Requirements: 6.7, 6.9_

- [ ] 14.4 キーボードショートカットを実装する
  - デスクトップでCtrl+Kでグローバル検索を起動する
  - その他の便利なショートカット（Esc でモーダル閉じるなど）を実装する
  - _Requirements: 6.8_

## Phase 7: グローバル検索とナビゲーション機能

- [ ] 15. グローバル検索UIを実装する
- [ ] 15.1 検索バーコンポーネントを作成する
  - ヘッダーにグローバル検索バーを追加する
  - Ctrl+Kで検索モーダルを起動する機能を実装する
  - cmdk（Command Palette）ライブラリを統合する
  - _Requirements: 7.4_

- [ ] 15.2 横断的検索機能を実装する
  - AIツール、プロンプト、カテゴリーを横断的に検索する
  - 検索結果を種類別にグループ化して表示する
  - 検索結果クリックで該当ページへ遷移する
  - _Requirements: 7.5_

- [ ] 16. ブレッドクラムナビゲーションを実装する
- [ ] 16.1 現在位置表示コンポーネントを作成する
  - 全ページにブレッドクラムを表示する（例：ホーム > AIツール > 編集）
  - 各階層リンクでページ遷移できるようにする
  - _Requirements: 7.3_

## Phase 8: マイクロインタラクションの実装

- [ ] 17. ローディングアニメーションを実装する
- [ ] 17.1 スケルトンスクリーンを作成する
  - ページ読み込み中にコンテンツの形状を予告するスケルトンを表示する
  - ツールカード、リスト、フォームのスケルトンバリエーションを実装する
  - _Requirements: 8.1_

- [ ] 18. ページ遷移アニメーションを実装する
- [ ] 18.1 フェードイン/アウトトランジションを追加する
  - ページ遷移時にスムーズなフェードイン/アウト（300ms）を実装する
  - AnimatePresenceでアンマウント時のアニメーションを管理する
  - _Requirements: 8.3_

- [ ] 19. データ追加時のアニメーションを実装する
- [ ] 19.1 飛び込むアニメーションを追加する
  - 新しいAIツールが追加されたときにリストに「飛び込む」アニメーション（scale + fade）を表示する
  - _Requirements: 8.4_

- [ ] 20. 成功時のチェックマークアニメーションを実装する
- [ ] 20.1 描画エフェクトを追加する
  - 操作成功時にチェックマークアニメーション（SVG描画エフェクト）を表示する
  - _Requirements: 8.5_

## Phase 9: ダークモード実装

- [ ] 21. ダークモード切り替えUIを実装する
- [ ] 21.1 テーマトグルコンポーネントを作成する
  - 設定画面にライト/ダーク/システム連動の3択トグルを追加する
  - トグル状態の視覚的フィードバックを実装する
  - _Requirements: 9.2_

- [ ] 21.2 ダークモードカラーを定義する
  - ダークモード用のCSS変数を追加する
  - 背景にダークグレー（#1a1a1a）、テキストに明るいグレー（#e0e0e0）を設定する
  - WCAG AA準拠のコントラスト比（最低4.5:1）を保つ
  - _Requirements: 9.4, 9.5_

## Phase 10: データ管理機能の追加

- [ ] 22. エクスポート機能を実装する
- [ ] 22.1 エクスポートUIを作成する
  - 設定画面に「エクスポート」ボタンを追加する
  - JSON/CSV形式の選択UIを実装する
  - _Requirements: 10.1_

- [ ] 22.2 エクスポート処理を実装する
  - 全AIツールデータを取得する
  - タイムスタンプ付きファイル名（例：tkz-tools-20251022.json）で生成する
  - ブラウザでダウンロードさせる処理を実装する
  - _Requirements: 10.2_

- [ ] 23. インポート機能を実装する
- [ ] 23.1 インポートUIを作成する
  - 設定画面に「インポート」ボタンを追加する
  - ファイルアップロードUIを実装する
  - _Requirements: 10.3_

- [ ] 23.2 インポート処理を実装する
  - アップロードファイルのフォーマットバリデーションを実装する
  - プレビューモーダルでデータを表示する
  - 確認後に一括登録する処理を実装する
  - エラー時は具体的なエラー箇所を示すメッセージを表示する
  - _Requirements: 10.4, 10.5_

- [ ] 24. 自動バックアップ機能を実装する
- [ ] 24.1 バックアップ設定UIを作成する
  - 設定画面に自動バックアップ機能のON/OFF設定を追加する
  - _Requirements: 10.6_

- [ ] 24.2 バックアップ処理を実装する
  - バックアップをローカルストレージとSupabase Storageに保存する
  - バックアップメタデータ（backupsテーブル）を記録する
  - _Requirements: 10.7_

- [ ] 24.3 復元機能を実装する
  - バックアップ履歴リストと「復元」ボタンを実装する
  - 復元確認ダイアログを表示する
  - 復元処理を実装する
  - _Requirements: 10.8_

## Phase 11: 検索・フィルタリング強化

- [ ] 25. 高度な検索機能を実装する
- [ ] 25.1 高度な検索パネルUIを作成する
  - AIツール一覧画面に高度な検索パネルを追加する
  - AND/OR条件、日付範囲、評価範囲のフィルター UIを実装する
  - _Requirements: 11.1_

- [ ] 25.2 検索結果のリアルタイム絞り込みを実装する
  - 検索条件変更時にリアルタイムで結果を絞り込む
  - ヒット件数を表示する
  - _Requirements: 11.2_

- [ ] 26. 保存済み検索機能を実装する
- [ ] 26.1 検索条件保存UIを実装する
  - 高度な検索パネルに「この条件を保存」ボタンを追加する
  - 保存ダイアログで名前を入力できるようにする
  - _Requirements: 11.3_

- [ ] 26.2 保存済み検索の管理機能を実装する
  - サイドバーに「保存済み検索」セクションを追加する
  - 保存済み検索をクリックで条件を復元できるようにする
  - _Requirements: 11.4_

- [ ] 27. タグ機能を実装する
- [ ] 27.1 タグCRUD機能を実装する
  - tagsテーブルとtool_tagsテーブルを作成する
  - TagRepositoryを実装する
  - _Requirements: データモデル（Tags）_

- [ ] 27.2 タグ入力UIを実装する
  - AIツール編集画面に自由なタグ付け機能を追加する
  - カンマ区切り入力、オートコンプリートを実装する
  - _Requirements: 11.5_

- [ ] 27.3 タグフィルタリングを実装する
  - AIツール一覧画面にタグフィルタリングUIを追加する
  - 複数タグ選択可能にする
  - _Requirements: 11.6_

- [ ] 28. AI検索機能を実装する（オプション、優先度低）
- [ ] 28.1 自然言語検索UIを追加する
  - グローバル検索に自然言語検索モードを追加する
  - _Requirements: 11.7_

- [ ] 28.2 OpenAI API連携を実装する
  - 自然言語クエリをOpenAI APIで意図抽出する
  - 構造化検索クエリに変換する
  - 関連度順に結果を表示する
  - _Requirements: 11.8_

## Phase 12: コラボレーション機能の追加

- [ ] 29. データベーススキーマを拡張する
- [ ] 29.1 コラボレーション用テーブルを作成する
  - commentsテーブルを作成する
  - likesテーブルを作成する
  - notificationsテーブルを作成する
  - Supabase RLSポリシーを設定する
  - _Requirements: データモデル（Comments, Likes, Notifications）_

- [ ] 30. コメント機能を実装する
- [ ] 30.1 コメント投稿UIを作成する
  - AIツール詳細画面にコメント投稿フォームを追加する
  - コメント一覧を表示する
  - _Requirements: 12.1_

- [ ] 30.2 コメント処理を実装する
  - 投稿者名、タイムスタンプ、コメント内容を保存する
  - 即座に一覧に表示する
  - _Requirements: 12.2_

- [ ] 31. いいね機能を実装する
- [ ] 31.1 いいねボタンUIを作成する
  - AIツールカードに「いいね」ボタン（ハートアイコン）を追加する
  - いいね数を表示する
  - _Requirements: 12.3_

- [ ] 31.2 いいね処理を実装する
  - いいねクリック時にアニメーションを表示する
  - いいね数を増減する
  - 相手に通知を送信する
  - _Requirements: 12.4_

- [ ] 32. 活動フィード機能を実装する
- [ ] 32.1 活動フィードUIを作成する
  - ホーム画面に「活動フィード」セクションを追加する
  - 最近の登録・編集・いいね・コメントを時系列表示する
  - _Requirements: 12.5_

- [ ] 33. 通知機能を実装する
- [ ] 33.1 通知ベルUIを作成する
  - ヘッダーに通知アイコン（ベルマーク）を追加する
  - 未読件数バッジを表示する
  - _Requirements: 12.6_

- [ ] 33.2 リアルタイム通知配信を実装する
  - Supabase Realtimeで通知をリアルタイム配信する
  - 相手が新しいツールを登録、コメント投稿時に通知を送信する
  - 未読バッジを更新する
  - _Requirements: 12.7_

- [ ] 33.3 通知パネルを実装する
  - 通知一覧を表示するパネルを作成する
  - 既読/未読管理機能を実装する
  - 通知設定（ON/OFF）を実装する
  - _Requirements: 12.8_

## Phase 13: プロンプト生成機能の強化

- [ ] 34. テンプレート機能を実装する
- [ ] 34.1 テンプレート選択UIを追加する
  - プロンプト生成画面にテンプレート選択ドロップダウンを追加する
  - シネマティック、ドキュメンタリー、アニメーションなどのテンプレートを用意する
  - _Requirements: 13.1_

- [ ] 34.2 テンプレート自動入力を実装する
  - テンプレート選択時に該当プロンプトパターンをフォームに自動入力する
  - _Requirements: 13.2_

- [ ] 35. バリエーション生成機能を実装する
- [ ] 35.1 バリエーション生成UIを追加する
  - プロンプト生成画面に「バリエーション生成」ボタンを追加する
  - _Requirements: 13.3_

- [ ] 35.2 バリエーション生成処理を実装する
  - 1つの入力から3〜5パターンの異なるプロンプトを自動生成する
  - OpenAI APIを活用する
  - _Requirements: 13.4_

- [ ] 36. AI改善提案機能を実装する
- [ ] 36.1 AI改善提案UIを追加する
  - プロンプト生成画面に「AI改善提案」ボタンを追加する
  - _Requirements: 13.5_

- [ ] 36.2 AI改善提案処理を実装する
  - 現在のプロンプトを分析し、改善案を具体的に提示する
  - OpenAI APIを活用する
  - _Requirements: 13.6_

- [ ] 37. お気に入り機能を実装する
- [ ] 37.1 お気に入りUIを追加する
  - プロンプト詳細画面に「お気に入り」スターアイコンを追加する
  - _Requirements: 13.7_

- [ ] 37.2 お気に入り管理を実装する
  - お気に入りに追加する処理を実装する
  - マイページの「お気に入りプロンプト」セクションに追加する
  - _Requirements: 13.8_

## Phase 14: パフォーマンス最適化

- [ ] 38. 画像最適化を実装する
- [ ] 38.1 遅延読み込みコンポーネントを作成する
  - Intersection Observerで遅延読み込みを実装する
  - スケルトンプレースホルダーを表示する
  - _Requirements: 14.1_

- [ ] 39. バーチャルスクロールを実装する（オプション、優先度低）
- [ ] 39.1 100件以上のデータ表示時にバーチャルスクロールを使用する
  - react-windowライブラリを統合する
  - AIツール一覧で実装する
  - _Requirements: 14.2_

- [ ] 40. SWRキャッシング戦略を実装する
- [ ] 40.1 主要画面でSWRを統合する
  - AIツール一覧でSWRを使用する
  - プロンプト履歴でSWRを使用する
  - 通知でSWRを使用する
  - revalidateOnFocus、dedupingIntervalを設定する
  - _Requirements: 14.3_

- [ ] 41. パフォーマンス目標を達成する
- [ ] 41.1 初回ペイントとロード時間を最適化する
  - 初回ペイントを1.5秒以内に抑える
  - 完全読み込みを3秒以内に抑える
  - _Requirements: 14.4_

- [ ] 41.2 Lighthouse スコアを維持する
  - Lighthouse Performanceスコア95以上を維持する
  - _Requirements: 14.5_

- [ ] 42. 画像アップロード最適化を実装する（オプション）
- [ ] 42.1 画像リサイズとWebP変換を実装する
  - 画像を自動リサイズ（最大1200px幅）する
  - WebP形式に変換する
  - _Requirements: 14.7_

## Phase 15: アクセシビリティ完全対応

- [ ] 43. キーボードナビゲーションを実装する
- [ ] 43.1 全インタラクティブ要素をキーボードで操作可能にする
  - Tab、Enter、Space、Escapeキー対応を実装する
  - _Requirements: 15.1_

- [ ] 44. ARIA属性を追加する
- [ ] 44.1 全フォーム要素に適切なARIA属性を設定する
  - aria-label、aria-describedby、aria-invalidを設定する
  - _Requirements: 15.2_

- [ ] 45. モーダル・ダイアログのフォーカス管理を実装する
- [ ] 45.1 フォーカストラップとEscapeキー対応を実装する
  - モーダル開いた時にフォーカスをトラップする
  - Escapeキーで閉じられるようにする
  - _Requirements: 15.3_

- [ ] 46. フォーカスリングを視覚的に明確にする
- [ ] 46.1 フォーカス状態の視覚化を強化する
  - 2px青色アウトラインのフォーカスリングを表示する
  - _Requirements: 15.4_

- [ ] 47. 色以外の情報伝達手段を追加する
- [ ] 47.1 アイコンやテキストを併用する
  - 色で情報伝達する箇所にアイコンやテキストも併用する
  - _Requirements: 15.5_

- [ ] 48. テキスト拡大対応を実装する
- [ ] 48.1 200%拡大時のレイアウト崩れを防止する
  - すべてのテキストが200%拡大時でも読めるようにする
  - レイアウトが崩れないようにする
  - _Requirements: 15.6_

- [ ] 49. Lighthouse Accessibilityスコアを維持する
- [ ] 49.1 Accessibility Score 100を維持する
  - 全ページでLighthouse Accessibilityスコア100を達成する
  - _Requirements: 15.7_

- [ ] 50. 画像に代替テキストを設定する
- [ ] 50.1 意味のあるalt属性を設定する
  - 全画像に適切な代替テキストを設定する
  - _Requirements: 15.8_

## Phase 16: セキュリティ強化

- [ ] 51. 2要素認証（2FA）を実装する（オプション、優先度低）
- [ ] 51.1 2FA設定UIを作成する
  - ログイン画面に2FAオプションを追加する
  - _Requirements: 16.1_

- [ ] 51.2 2FA処理を実装する
  - QRコード表示、バックアップコード生成、確認プロセスを実装する
  - Google Authenticator対応を実装する
  - _Requirements: 16.2_

- [ ] 52. セッション管理機能を実装する
- [ ] 52.1 アクティブセッション一覧UIを作成する
  - 設定画面にアクティブセッション一覧を表示する
  - デバイス名、IPアドレス、最終アクセス時刻を表示する
  - _Requirements: 16.3_

- [ ] 52.2 リモートログアウト機能を実装する
  - 各セッションの「ログアウト」ボタンでリモートログアウトを可能にする
  - _Requirements: 16.4_

- [ ] 53. 監査ログ機能を実装する
- [ ] 53.1 監査ログ記録を実装する
  - 重要操作（削除、設定変更）実行時に監査ログを記録する
  - 操作種別、日時、IPアドレス、ユーザーエージェントを記録する
  - _Requirements: 16.5_

- [ ] 53.2 監査ログ閲覧機能を実装する
  - 設定画面に監査ログ閲覧機能を追加する
  - 最新50件、検索・フィルタリング機能を実装する
  - _Requirements: 16.6_

- [ ] 54. データ暗号化を実装する（オプション、優先度低）
- [ ] 54.1 個人情報の暗号化を実装する
  - メール、名前をデータベースで暗号化して保存する
  - _Requirements: 16.7_

- [ ] 55. Content Security Policy（CSP）を強化する
- [ ] 55.1 CSPヘッダーを厳格化する
  - next.config.tsでCSPヘッダーを設定する
  - 外部スクリプト実行を厳格に制限する
  - _Requirements: 16.8_

## Phase 17: 統合とテスト

- [ ] 56. 全機能の統合テストを実施する
- [ ] 56.1 主要ユーザーフローのE2Eテストを作成する
  - ログイン → ツール登録 → 詳細表示のE2Eテストを作成する
  - ツール検索 → フィルタリング → 詳細表示のE2Eテストを作成する
  - コメント投稿 → いいね → 通知受信のE2Eテストを作成する
  - データエクスポート → インポートのE2Eテストを作成する
  - レスポンシブナビゲーションのE2Eテストを作成する
  - _Requirements: テスト戦略（E2E Tests）_

- [ ] 56.2 ユニットテストとインテグレーションテストを拡充する
  - 新規コンポーネントのユニットテストを作成する
  - 新規サービスのインテグレーションテストを作成する
  - _Requirements: テスト戦略（Unit Tests, Integration Tests）_

- [ ] 57. パフォーマンステストを実施する
- [ ] 57.1 Lighthouseスコアを検証する
  - Performance 95+を確認する
  - Accessibility 100を確認する
  - _Requirements: 成功指標（パフォーマンス、アクセシビリティ）_

- [ ] 57.2 アニメーションパフォーマンスを検証する
  - 60fps維持を確認する
  - GPU加速を確認する
  - _Requirements: 成功指標（パフォーマンス）_

- [ ] 58. クロスブラウザテストを実施する
- [ ] 58.1 主要ブラウザで動作確認する
  - Chrome, Firefox, Safari, Edgeで動作確認する
  - モバイルブラウザ（iOS Safari, Chrome Mobile）で動作確認する
  - _Requirements: レスポンシブ対応_

- [ ] 59. 最終レビューと調整を行う
- [ ] 59.1 デザイン一貫性を確認する
  - 全ページでデザインシステムが統一されているか確認する
  - _Requirements: デザインシステムの確立_

- [ ] 59.2 エラー発生率を確認する
  - アプリケーションエラー < 0.1%を達成する
  - _Requirements: 成功指標（エラー発生率）_

- [ ] 59.3 ユーザー満足度を確認する
  - TKZとコボちゃんが「ワクワクする」と感じるか確認する
  - _Requirements: 成功指標（ユーザー満足度）_

---

## 実装の進め方

1. **順次実装**: Phase 1から順番に実装する
2. **タスク完了マーク**: 各タスク完了時に `[x]` にチェックを入れる
3. **テスト駆動**: 各タスクで該当機能のテストを作成・実行する
4. **コミット**: 各メジャータスク（1, 2, 3...）完了時にGitコミットする
5. **レビュー**: 各Phaseが完了したら動作確認とレビューを行う

## 優先度について

- **高優先（Phase 1-10）**: デザインシステム、フォームUX、レスポンシブ、基本的なコラボレーション
- **中優先（Phase 11-14）**: 検索強化、プロンプト生成強化、パフォーマンス最適化
- **低優先（Phase 15-16）**: アクセシビリティ完全対応、セキュリティ強化（一部オプション機能）
- **必須（Phase 17）**: 統合テスト、最終レビュー
