# リグレッションテストチェックリスト

## 概要
UIUX包括的改善プロジェクト完了後、既存機能が正しく動作することを確認するためのチェックリスト。

## テスト実施情報
- 実施日: _______________
- テスター: _______________
- ビルドバージョン: _______________
- テスト環境: □ ローカル □ ステージング □ 本番

---

## 1. 認証機能

### Google OAuth認証
- [ ] ログインページが正しく表示される
- [ ] Google OAuth認証が成功する
- [ ] 認証後、ホームページにリダイレクトされる
- [ ] ユーザー名が正しく表示される
- [ ] ログアウトボタンが機能する
- [ ] ログアウト後、ログインページにリダイレクトされる
- [ ] 未認証時、保護されたページにアクセスできない

### セッション管理
- [ ] ページリロード後もセッションが維持される
- [ ] 別タブで開いてもセッションが共有される
- [ ] セッション有効期限が適切に動作する

---

## 2. AIツール管理機能

### ツール一覧表示
- [ ] ツール一覧ページが正しく表示される
- [ ] すべてのツールが表示される
- [ ] カードレイアウトが正しく表示される
- [ ] ツール名、カテゴリ、評価が表示される
- [ ] 登録者名と使用日が表示される
- [ ] スケルトンローディングが表示される
- [ ] エラー時にエラーメッセージが表示される

### ツール詳細表示
- [ ] ツール詳細ページが正しく表示される
- [ ] すべての情報（名前、カテゴリ、目的、使用感、評価、日付）が表示される
- [ ] 自分のツールの場合、編集ボタンが表示される
- [ ] 他人のツールの場合、編集ボタンが表示されない

### ツール新規登録
- [ ] 新規登録フォームが正しく表示される
- [ ] すべての必須フィールドが表示される
- [ ] フォーム送信時、バリデーションが動作する
- [ ] 文字数カウンターが正しく表示される（使用目的、使用感）
- [ ] 登録成功時、成功トーストが表示される
- [ ] 登録成功後、ツール一覧ページにリダイレクトされる
- [ ] 登録失敗時、エラートーストが表示される
- [ ] ローディング中、ボタンが無効化される
- [ ] 重複送信が防止される

### ツール編集
- [ ] 編集フォームが既存データで初期化される
- [ ] フォーム送信時、バリデーションが動作する
- [ ] 更新成功時、成功トーストが表示される
- [ ] 更新成功後、詳細ページにリダイレクトされる
- [ ] 更新失敗時、エラートーストが表示される

### ツール削除
- [ ] 削除ボタンをクリックすると確認ダイアログが表示される
- [ ] ダイアログに警告アイコンが表示される
- [ ] ダイアログのメッセージが明確
- [ ] キャンセルボタンで削除がキャンセルされる
- [ ] 削除実行時、成功トーストが表示される
- [ ] 削除成功後、ツール一覧ページにリダイレクトされる
- [ ] 削除失敗時、エラートーストが表示される
- [ ] 他人のツール削除時、追加確認ダイアログが表示される

---

## 3. Sora2プロンプト生成機能

### プロンプト生成フォーム
- [ ] プロンプト生成ページが正しく表示される
- [ ] すべての入力フィールドが表示される
- [ ] 必須フィールド（目的、シーン説明）のバリデーション
- [ ] スタイルと長さのドロップダウンが動作する
- [ ] 文字数カウンターが表示される（シーン説明、その他の要望）
- [ ] プロンプト生成ボタンが機能する
- [ ] 生成中、ボタンにローディングスピナーが表示される

### プロンプト生成結果
- [ ] 生成されたプロンプトが表示される
- [ ] プロンプトをクリップボードにコピーできる
- [ ] コピー成功時、トーストが表示される
- [ ] 生成失敗時、エラートーストが表示される
- [ ] 生成履歴が保存される

### プロンプト履歴
- [ ] 履歴ページが正しく表示される
- [ ] すべての履歴が時系列順に表示される
- [ ] 各履歴カードに目的とプレビューが表示される
- [ ] 履歴詳細ページが正しく表示される
- [ ] 詳細ページで完全なプロンプトが表示される
- [ ] プロンプトをコピーできる

### 履歴削除
- [ ] 削除ボタンをクリックすると確認ダイアログが表示される
- [ ] 削除実行時、成功トーストが表示される
- [ ] 削除成功後、履歴一覧ページにリダイレクトされる
- [ ] 削除失敗時、エラートーストが表示される

---

## 4. ナビゲーション

### デスクトップナビゲーション（≥768px）
- [ ] ヘッダーが正しく表示される
- [ ] ロゴが「AI Tools & Sora Prompt Generator」と表示される
- [ ] すべてのナビリンクが表示される（ホーム、AIツール、プロンプト生成、履歴）
- [ ] 現在のページがハイライトされる
- [ ] ユーザー名が表示される
- [ ] ログアウトボタンが表示される
- [ ] すべてのリンクが正しく動作する

### モバイルナビゲーション（<768px）
- [ ] ハンバーガーメニューボタンが表示される
- [ ] ロゴが「AI Tools」と表示される
- [ ] ハンバーガーメニューをクリックするとサイドメニューが開く
- [ ] サイドメニューにすべてのナビリンクが表示される
- [ ] サイドメニューでユーザー名が表示される
- [ ] サイドメニューにログアウトボタンが表示される
- [ ] Escキーでメニューが閉じる
- [ ] メニュー外をクリックするとメニューが閉じる
- [ ] リンクをクリックするとメニューが閉じる

### フォーカスとキーボードナビゲーション
- [ ] Tabキーですべての要素にフォーカス可能
- [ ] フォーカスインジケーターが明確に表示される
- [ ] フォーカス順序が論理的
- [ ] Enterキーでリンク/ボタンをアクティベート可能

---

## 5. レスポンシブデザイン

### モバイル (320px - 639px)
- [ ] レイアウトが1列で表示される
- [ ] すべてのタッチターゲットが44x44px以上
- [ ] テキストが読みやすい（最小14px）
- [ ] フォームが縦スクロール可能
- [ ] カードが縦に並ぶ
- [ ] ハンバーガーメニューが機能する

### タブレット (640px - 1023px)
- [ ] カードグリッドが2列で表示される
- [ ] ナビゲーションが適切に表示される
- [ ] フォントサイズが適切
- [ ] レイアウトが崩れない

### デスクトップ (≥1024px)
- [ ] カードグリッドが3列で表示される
- [ ] デスクトップナビゲーションが表示される
- [ ] レイアウトが中央寄せされる
- [ ] 最大幅が適切に制限される

### デバイス向き変更
- [ ] ポートレート→ランドスケープ変更時にレイアウトが調整される
- [ ] ランドスケープ→ポートレート変更時にレイアウトが調整される
- [ ] コンテンツが切れたり重なったりしない

---

## 6. フォームUX

### バリデーション
- [ ] フォーカス離脱時（onBlur）にバリデーションが実行される
- [ ] エラーメッセージが即座に表示される
- [ ] エラーがあるフィールドに赤枠が表示される
- [ ] バリデーションエラー時、最初のエラーフィールドにフォーカス
- [ ] エラーフィールドまでスムーズにスクロール

### 文字数カウンター
- [ ] 長文入力フィールドに文字数カウンターが表示される
- [ ] リアルタイムで文字数が更新される
- [ ] 最大文字数が表示される（例: 120/500文字）
- [ ] 最大文字数超過時に警告表示（赤色）

### ローディング状態
- [ ] ボタンクリック時にローディングスピナーが表示される
- [ ] ローディング中、ボタンが無効化される
- [ ] ローディング中、フォーム送信が防止される
- [ ] 処理完了後、ボタンが再有効化される

---

## 7. トースト通知

### 成功通知
- [ ] 成功トーストが画面上部中央に表示される
- [ ] 3秒後に自動的に消える
- [ ] スワイプで手動で閉じられる
- [ ] アイコンとメッセージが明確

### エラー通知
- [ ] エラートーストが画面上部中央に表示される
- [ ] 5秒後に自動的に消える
- [ ] エラーメッセージが理解しやすい
- [ ] 複数のトーストがスタックされる

### ローディング通知
- [ ] ローディングトーストが表示される
- [ ] 処理完了後、自動的に閉じる
- [ ] 処理完了後、成功/エラートーストに置き換わる

---

## 8. アクセシビリティ

### セマンティックHTML
- [ ] `<header>`要素が使用されている
- [ ] `<nav>`要素が使用されている
- [ ] `<main>`要素が使用されている
- [ ] 見出し階層（h1→h2→h3）が適切

### ARIA属性
- [ ] アイコンのみのボタンに`aria-label`がある
- [ ] フォームラベルが入力フィールドと関連付けられている
- [ ] 必須フィールドに*マークまたは「必須」ラベル
- [ ] スピナーに`role="status"`とaria-label

### スクリーンリーダー
- [ ] ページタイトルが適切
- [ ] ランドマークが認識される
- [ ] ナビゲーションリンクが読み上げられる
- [ ] フォームラベルが読み上げられる
- [ ] トースト通知が読み上げられる（aria-live）

### キーボードナビゲーション
- [ ] Tab/Shift+Tabで全要素にアクセス可能
- [ ] フォーカスインジケーターが明確
- [ ] Enter/Spaceでボタンをアクティベート
- [ ] Escでモーダルを閉じられる
- [ ] モーダル開時、フォーカスがモーダル内に閉じ込められる

---

## 9. パフォーマンス

### ページ読み込み
- [ ] ホームページが3秒以内に読み込まれる
- [ ] ツール一覧ページが3秒以内に読み込まれる
- [ ] プロンプト生成ページが3秒以内に読み込まれる
- [ ] スケルトンローディングが即座に表示される

### Core Web Vitals
- [ ] LCP < 2.5秒
- [ ] FID < 100ms
- [ ] CLS < 0.1
- [ ] （Lighthouseで測定）

### バンドルサイズ
- [ ] First Load JS < 200 KB (gzipped)
- [ ] ページ個別サイズ < 50 KB
- [ ] （next buildで確認）

### アニメーション
- [ ] ホバーエフェクトがスムーズ
- [ ] トランジションにカクつきがない
- [ ] スクロールが滑らか

---

## 10. データベース操作

### データの永続化
- [ ] ツール登録後、データベースに保存される
- [ ] ツール更新後、変更が保存される
- [ ] ツール削除後、データベースから削除される
- [ ] プロンプト履歴が保存される
- [ ] 履歴削除後、データベースから削除される

### データの整合性
- [ ] ユーザーIDが正しく関連付けられる
- [ ] 日時情報が正しく保存される
- [ ] 評価（1-5）が正しく保存される
- [ ] 文字列の長さ制限が適用される

---

## 11. エラーハンドリング

### ネットワークエラー
- [ ] オフライン時に適切なエラーメッセージ
- [ ] タイムアウト時にエラートースト
- [ ] API エラー時にユーザーフレンドリーなメッセージ

### バリデーションエラー
- [ ] 必須フィールド未入力時にエラー表示
- [ ] 文字数超過時にエラー表示
- [ ] 無効なフォーマット時にエラー表示

### 認証エラー
- [ ] セッション期限切れ時にログインページへリダイレクト
- [ ] 権限不足時にエラーメッセージ

---

## テスト結果サマリー

### 総合評価
- 合格項目数: _____ / _____
- 不合格項目数: _____
- 重大な問題: _____
- 軽微な問題: _____

### 発見された問題
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### 修正が必要な項目
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### 備考
_______________________________________________
_______________________________________________
_______________________________________________
